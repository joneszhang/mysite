<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
  	<meta charset="utf-8">

  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Zongsi.Zhang|Projects.Gem</title>
	<meta name="description" content="Andante is a responsive business/porftolio/blog HTML5 template.">
	<meta name="author" content="Giordano Piazza - http://www.giordanopiazza.com">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  	<link href='http://fonts.googleapis.com/css?family=Armata' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/grid.css">
	<link rel="stylesheet" href="css/flexslider.css">
	<link rel="stylesheet" href="css/prettyPhoto.css">
	<link rel="stylesheet" href="css/style.css">
	<!-- <link rel="stylesheet" href="css/style_white.css"> -->
	<!-- <link rel="stylesheet" href="css/style_smokewine.css"> -->
	<!-- <link rel="stylesheet" href="css/style_forest.css"> -->

	<!-- Responsive Images -->
	<script>document.cookie='resolution='+Math.max(screen.width,screen.height)+'; path=/';</script>

	<!-- Custom Modernizer -->
	<script src="js/libs/modernizr.custom.min.js"></script>
</head>
<body id="sidebar-page">
<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://sc.chinaz.com/">Upgrade to a different browser</a> or install Google Chrome Frame</a> to experience this site.</p>
<![endif]-->
	
	<!-- Logo, Headline, Navigation -->
	<header id="main-header" class="container">
	  	<div class="span12">

	  		<div id="logo">
		  		<a href="index-2.html"><img src="img/content/logo.png" alt="Andante"></a>
		  		<span id="tagline">graduate soulful engineer and designer</span>
	  		</div>
		    
		    <!-- <hgroup id="logo">
		      <h1>Andante /</h1>
		      <h2>Elegant Responsive HTML5 Template</h2>
		    </hgroup> -->

		    <div id="nav-toggle">
		      	<a href="#" data-target=".expandable-nav" class="black button">menu</a>
		    </div>

		    <nav id="main-nav" class="clearfix">
		    	<ul class="dropdown">
				    <li><a href="index-2.html">Home</a></li>
				    <li class="current"><a href="portfolio.html">Portfolio</a></li>
				    <li><a href="intro_profession.html">About</a>
                                    <ul>                                    
				    <li><a href="intro_profession.html">Profession</a></li>
				    <li><a href="intro_personal.html">Personal</a></li>
				    <li><a href="intro_cv.html">CV</a></li>
                                    </ul>
                                    </li>
				    <li><a href="contact.html">Contact</a></li>
				</ul> <!-- / .dropdown -->
		    </nav> <!-- / #main-nav -->

		</div> <!-- / span12 div -->
	</header> <!-- / Logo, Headline, Navigation -->
	


	<!-- Page with Sidebar -->
	<section id="content" role="main" class="container">
	
	    <h1 class="span12">Gem Optimization<small>(2014.7.20 - 2014.8.20)</small>
	    		<a class="pointer" href="details_afm.html"><img src="img/icons/arrow_right.gif" alt="Next item"></a>
	    		<a class="pointer" href="portfolio.html"><img src="img/icons/overview.png" alt="Back to the overview"></a>
	    		<a class="pointer" href="details_windwalk.html"><img src="img/icons/arrow_left.gif" alt="Previous item"></a>

			</h1>
	    <!-- Content column -->
    	<div>
	    <P>This summer, I entered Transmension Tech, Shanghai as an intern of game development. After 15 days of traning, the first project of my employee life came to me and and its difficulty really can match its special meaning. It's lucky that with the help of my mentor, I perfectly finished this task and did a presentation in a conference and became the first intern that able to do this.</p><p>Gem is a Tile-matching video game developed based on SexyFramework(A game engine created by Popcap), with the powerful cross-tools developed by our company, it can run on many different platforms. Combined with Chinese history story, this game has been released in the Republic of China and Taiwan.</p>
	    	
	    	<div class="hr_pattern"></div>

	    	<h3>My Task</h3>
	    	<p>My task is to optimize this game so that it can run on a very old STB named Mod205, which have come into market more than 14 years(But it's now still at work in over one million families). But gem was built last year and although it's a ligeweight game, it's requirement for environment still largely excess what Mod205 can offer.</p><p>As this picture shows, the STB offers less thant 10MB room for texture memory and only 20+ room for memory. Besides, due to its age, the condition of cpu really is doutful. For the worst one I've met, its throughput is so poor that it will dump when more than 2MB data is converted into graphics card. Which means that I not only need to compress the space it requests. I also have to control the amount of data that is transported at once.</p>
    	
	    	<div class="hr_pattern"></div>

	    	<h3>Color Mode</h3>
	    	<p><a class="object" data-hover="icon-zoom-mini" href="img/gem/content/color.png" data-rel="gallery[projects1]"><img src="img/gem/cuts/color.png" class="floatleft" alt="Comparison of different color modes"></a><p>Thanks to the SexyFramework's powerful construction. I can change the color mode, according to which the engine will load pixels in certain digits, via simply clarifying in XML files. The normal way is to load every pixel in 24 digits with 6 digits separately for Alpha, Red, Blue and Green. To eliminate the texture memory occupation, I cut it into 16 digits(A4R4G4B4). Which can reduce the texture memory of every picture into nearly 60%. But the disadvantage is that the quality of pictures will decrease. As the picture shows, the picture that was loaded in a4r4g4b4 shows apparent chromatic aberration. But taking age of this STB into account, this aberration is tolerable.</p>

 	    	<div class="hr_pattern"></div>

	    	<h3>Dynamic memory control</h3>
	    	<p><a class="object" data-hover="icon-zoom-mini" href="img/gem/content/memory.jpg" data-rel="gallery[projects1]"><img src="img/gem/cuts/memory.jpg" class="floatright" alt="The procedure of image processing"></a><p>Besides the simple but effective manner. I also took some accurate manners. After carefully reading the source codes of SexyAppFramework. I figured out how it manage the texture memory. It put all textures in a Set, which means the order inside the container is not linearly relative with the order I put it into the Texture Memory. So I have to build a management system myself. So for every large resources(For example, images larger than 500 * 400), I record their pointer before put it into the Set. And every time the Texture memory is beyond the threshold value, I will do some clean work via this list.</p>
   
	
	    	<div class="hr_pattern"></div>

	    	<h3>Frenquency of operation</h3>
	    	<p>To solve the problem of bandwith and unstability. I limit the frequecny of click remote-control into 2 times a second. which will give the machine some time to do the transportation work. To finish this I use time.h to read the time of the last click and compare with the next click, if the time is within 0.5 seconds, I will neglect it and record it as the last click.</p><p>For some extreme condition in which the machine may dump irregularlly, I took a manner of necessity. For a group of drawing action, I seperately finish them every, say, 10 milliseconds, which may diminish the experience, but will guarantee the stability cause 10 miliseconds is enough for any computer to transport dozens kb of data. </p>

                <div class="hr_pattern"></div>

	    	<h3>Relative Tech</h3>
	    	<p>Besides the main problems. I also helped solve another instersting problem, the nexus module between remote-control and the television. This is too complex a problem(involved in cross-compile) that I can only find where the bugs are and follow the instructions of the system manager to solve them. But via our cooperation, I've learned a lot about compiler system of linux and a lot of practical operator in Terminal.</p>

	    </div> <!-- / Content column -->

	
	</section>


	<!-- Footer -->
    <footer id="main-footer">
    	<div class="container">
        <div>
                <h3>Quick Link</h3>
                <div class="hr_small"></div>
        </div>
	    	<!-- Recent posts -->
			<div class="span3">

				<!-- Post -->
			    <div class="media">
			    	<a class="object"><img src="img/quicklink/kinect.jpg"></a>
			        <div class="caption">
				       	<h4><a href="details_kinect.html">Pop And Tip &mdash; Somatic Kinect Game</a></h4>
			      		<p><span>12-2013</span></p>
			        </div>
			    </div> <!-- / Post -->
			</div> <!-- / Recent posts -->

			<!-- Twitter widget -->
			<div class="span3">
   			    <div class="media">
			    	<a class="object"><img src="img/quicklink/gem.jpg"></a>
			        <div class="caption">
				       	<h4><a href="details_gem.html">Gem &mdash; STB game optimization</a></h4>
			      		<p><span>07-2014</span></p>
			        </div>
			    </div> <!-- / Post -->
                      
			</div> <!-- / Twitter widget -->

			<!-- Flickr widget -->
			<div class="span3 ">
	   			    <div class="media">
			    	<a class="object"><img src="img/quicklink/afm.jpg"></a>
		        <div class="caption">
				       	<h4><a href="details_afm.html">AFM &mdash; Mainframe&android based App</a></h4>
			      		<p><span>09-2013</span></p>
			        </div>
			    </div> <!-- / Post -->

			</div> <!-- / Flickr widget -->

			<!-- Contact -->
			<div class="span3">
	   		    <div class="media">
			    	<a class="object"><img src="img/quicklink/lex.jpg"></a>
			        <div class="caption">
				       	<h4><a href="details_lex.html">Lex &mdash; DFA based Lex</a></h4>
			      		<p><span>11-2013</span></p>
			        </div>
			    </div> <!-- / Post -->

			</div> <!-- / Contact -->
        </div> <!-- / .container -->

	<div class="container">
         <div>
                <h3>Special Thanks To</h3>
                <div class="hr_small"></div>

		<h4>My mentor of Graphical Lab &mdash; Professor Yao who offers me the domain name. 
                      <a href="http://cose.seu.edu.cn/seuGraph/" target="_black">The Website of Graphical Lab</a>
                </h4>
		<h4>My schoolmate of Graphical Lab &mdash; Wang Liang who helps me maintain the website</h4>
		<h4>Andante &mdash; Who releases the great html5 templates </h4>
		</div>
           
	</div><!-- container for thanks end-->
    </footer> <!-- / #main-footer -->




<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

<!-- <script src="js/libs/jquery.flexslider.js"></script> -->
<!-- <script src="js/libs/gridpak.js"></script> -->
<script src="js/plugins.js"></script>
<script src="js/script.js"></script>



<!-- Asynchronous Google Analytics snippet. Change UA-XXXXX-X to be your site's ID.
     mathiasbynens.be/notes/async-analytics-snippet -->


<div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div>
</body>
</html>
